<!--Header-->
<h1>CSS to Figma</h1>

<!-- Short app explanation -->
<p>아래 인풋창에 CSS 코드를 붙여넣어 주세요.</p>

<div class="tab-container">
  <div class="tabs">
    <button class="tab active" data-tab="style">Style로 적용</button>
    <button class="tab" data-tab="variable">Variable로 적용</button>
  </div>
  <div class="tab-content">
    <div class="content active" id="style"></div>
    <div class="content" id="variable"></div>
  </div>
</div>

<!--Asks user for a hex color value-->
<textarea id="css-input"></textarea>

<!--Submit button-->
<button id="button">Apply</button>

<style>
  body {
    font-family: sans-serif;
    margin: 24px;
  }
  h1 {
    margin-bottom: 0;
  }
  p {
    margin-top: 8px;
    color: #777777;
  }
  textarea {
    border-radius: 8px;
    border-color: #777777;
    resize: none;
    width: 400px;
    height: 400px;
    padding: 12px;
  }

  input {
    font-size: 14px;
    margin-top: 3px;
    border-style: none;
    border-bottom-style: ;
    outline: none;
    font-weight: 600;
  }
  button {
    margin-top: 10px;
    padding: 10px 20px;
    font-weight: 700;
    border-radius: 6px;
    border: none;
  }
  button:hover {
    background-color: #cccccc;
  }
  button:active {
    background-color: #777777;
  }

  .tab-container {
    width: 80%;
    max-width: 800px;
    margin: 50px auto;
    background-color: #ffffff;
    border-radius: 8px;
    box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
    overflow: hidden;
  }

  .tabs {
    display: flex;
    border-bottom: 2px solid #e0e0e0;
    background-color: #f1f1f1;
  }

  .tab {
    flex: 1;
    padding: 15px 0;
    text-align: center;
    cursor: pointer;
    background-color: #f1f1f1;
    border: none;
    outline: none;
    font-size: 16px;
    transition: background-color 0.3s, color 0.3s;
  }

  .tab:hover {
    background-color: #ddd;
  }

  .tab.active {
    background-color: #ffffff;
    color: #007bff;
    border-bottom: 2px solid #007bff;
    font-weight: bold;
  }

  .tab-content {
    padding: 20px;
  }

  .content {
    display: none;
  }

  .content.active {
    display: block;
  }
</style>

<script>
  //Creates variables that allow us to access the HTML components
  const cssInput = document.getElementById("css-input");
  const button = document.getElementById("button");

  //Takes input values and shares them with your Figma code
  function whenButtonIsClicked() {
    const css = cssInput.value;
    //Sends your values to your Figma code. * is the code's worker address
    parent.postMessage({ pluginMessage: css }, "*");
  }

  //creates a listener that will activate whenever the button is clicked
  button.addEventListener("click", whenButtonIsClicked);
  document.addEventListener("DOMContentLoaded", () => {
    const tabs = document.querySelectorAll(".tab");
    const contents = document.querySelectorAll(".content");

    tabs.forEach((tab) => {
      tab.addEventListener("click", () => {
        // 현재 활성화된 탭과 콘텐츠를 비활성화
        document.querySelector(".tab.active").classList.remove("active");
        document.querySelector(".content.active").classList.remove("active");

        // 클릭한 탭을 활성화
        tab.classList.add("active");

        // 해당하는 콘텐츠를 활성화
        const contentId = tab.getAttribute("data-tab");
        document.getElementById(contentId).classList.add("active");
      });
    });
  });
</script>
